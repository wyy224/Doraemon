<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Personal information</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

{#    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">#}
{#    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700" rel="stylesheet">#}
{#    <link href="https://fonts.googleapis.com/css?family=Herr+Von+Muellerhoff" rel="stylesheet">#}

    <link rel="stylesheet" href="../static/css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/animate.css">

    <link rel="stylesheet" href="../static/css/owl.carousel.min.css">
    <link rel="stylesheet" href="../static/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="../static/css/magnific-popup.css">

    <link rel="stylesheet" href="../static/css/aos.css">

    <link rel="stylesheet" href="../static/css/ionicons.min.css">

    <link rel="stylesheet" href="../static/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="../static/css/jquery.timepicker.css">


    <link rel="stylesheet" href="../static/css/flaticon.css">
    <link rel="stylesheet" href="../static/css/icomoon.css">
    <link rel="stylesheet" href="../static/css/style-per.css">
  </head>
  <body>

	<div id="colorlib-page">
		<a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>
		<aside id="colorlib-aside" role="complementary" class="js-fullheight text-center">
			<h1 id="colorlib-logo"><a href="home">
                <span>
                    {% if icon == "NULL" %}
                        <img src='{{ avatars.default(size='l') }}' alt="" width=100 height=100>
                    {% else %}
                        <img src='{{ icon }}' alt="" width=100 height=100>
                    {% endif %}
            </span><br>
                {{user.user_name}}</a></h1>
			<nav id="colorlib-main-menu" role="navigation">
				<ul>
					<li><a href="/home" class="i18n" contrastName="HOME">Home</a></li>
					<li><a href="/collection" class="i18n" contrastName="COLLECTION">Collection</a></li>
					<li><a href="/ShoppingCart" class="i18n" contrastName="SHOPPINGCART">Shopping Cart</a></li>
					<li><a href="/contact" class="i18n" contrastName="SERVICES">Services</a></li>
                    <li><a href="/Orders" class="i18n" contrastName="ORDERS">Orders</a></li>
                     {% if  authority == 1 %}
                        <li><a href="/CheckTopup" class="i18n" contrastName="TOPUP_L">Top up List</a></li>
                    {% endif %}
                    <li><button onclick="location.href='/main_page'" class="i18n" contrastName="CBTHP">Come back to Home Page</button> </li>
				</ul>
			</nav>

			<div class="colorlib-footer">
				<h3>You can click here ~</h3>
				<div class="d-flex justify-content-center">
					<form action="#" class="colorlib-subscribe-form">
            <div class="form-group d-flex">
            	<button onclick="clickToLogout();" class="i18n" contrastName="LOAH">Log out at here</button>
            </div>
          </form>
				</div>
			</div>
		</aside> <!-- END COLORLIB-ASIDE -->

        <div id="colorlib-main">
			<section class="ftco-section-no-padding bg-light">
				<div class="hero-wrap">
                <div class="back">
                <div class="back-color">
					<div class="d-flex align-items-center js-fullheight">

						<div class="author-info text p-3 p-md-5">
							<div class="desc">
                            <div id="modify">
                                <form action="" method="post" enctype="multipart/form-data" novalidate>
                                {{ form.hidden_tag() }}
                                <p class='btn btn-primary' style="margin-top: 10px">
                                    {{ form.avatar.label }}<br>
                                    {{ form.avatar(size=12) }}

                                    {% for error in form.avatar.errors %}
                                    <span style="color: red;">[{{ error }}]</span>
                                    {% endfor %}
                                </p>
                                <p>
                                    {{ form.username.label }}<br>
                                    {{ form.username(size=32,value=user.user_name) }}

                                    {% for error in form.username.errors %}
                                    <span style="color: red;">[{{ error }}]</span>
                                    {% endfor %}
                                </p>
                                <p>
                                    {{ form.email.label }}<br>
                                    {{ form.email(size=32,value=user.email) }}
                                    {% for error in form.email.errors %}
                                    <span style="color: red;">[{{ error }}]</span>
                                    {% endfor %}

                                </p>
                                <p>
                                    {{ form.address.label }}<br>
                                    {{ form.address(size=64,value=profile.address) }}

                                </p>
                                <p>
                                    {{ form.phone_num.label }}<br>
                                    {{ form.phone_num(size=11,value=profile.phone_num) }}


                                </p>
                                <p> {{ form.name.label }}<br>
                                    {{ form.name(size=11,value=profile.name) }}</p>
                                <p>{{ form.submit(class="form_but") }}</p>
                            </form>
                            <button onclick="change2();" class="i18n" contrastName="BACK">Back</button>
	                        </div>
                            </div>
						</div>
					</div>
                </div>
				</div>
            </div>
			</section>
		</div>
    </div><!-- END COLORLIB-MAIN -->
          <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="../static/js/jquery.min.js"></script>
  <script src="../static/js/jquery-migrate-3.0.1.min.js"></script>
  <script src="../static/js/popper.min.js"></script>
  <script src="../static/js/bootstrap.min.js"></script>
  <script src="../static/js/jquery.easing.1.3.js"></script>
  <script src="../static/js/jquery.waypoints.min.js"></script>
  <script src="../static/js/jquery.stellar.min.js"></script>
  <script src="../static/js/owl.carousel.min.js"></script>
  <script src="../static/js/jquery.magnific-popup.min.js"></script>
  <script src="../static/js/aos.js"></script>
  <script src="../static/js/jquery.animateNumber.min.js"></script>
  <script src="../static/js/bootstrap-datepicker.js"></script>
  <script src="../static/js/jquery.timepicker.min.js"></script>
  <script src="../static/js/scrollax.min.js"></script>
{#  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>#}
{#  <script src="../static/js/google-map.js"></script>#}
  <script src="../static/js/main.js"></script>

  </body>

</html>
<script>

 function change2(){
     window.location.href="/home"

 }

  function clickToLogout(){
             $.post('/api/logout',{
        }).done(function (response) {
            let server_code = response['returnValue']
            if (server_code == 1) {
            // success set done
            alert("You have been logged out")
            window.location.href='/main_page';
            }else {
            alert("You have not been logged out")
            window.location.href='/home';
            }
       }).fail(function (){
            console.log("Fail reset");
    })
    }
</script>